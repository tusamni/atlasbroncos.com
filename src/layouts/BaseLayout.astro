---
import "/src/assets/styles/_base.css";
import "bigger-picture/css";

import BaseHead from "@/components/layout/BaseHead";
import Header from "@/components/layout/Header";
import Footer from "@/components/layout/Footer";

// props
export interface Props {
	title?: string;
	description?: string;
}

const { title, description } = Astro.props;

const isContact = Astro.url.pathname.includes("contact");
---

<html lang="en">
	<head>
		<BaseHead title={title} description={description} />
	</head>

	<body class:list={["min-h-screen bg-stone-100"]}>
		<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5W2NH2T7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

		<Header />

		<main>
			<slot />
		</main>

		<Footer contactForm={isContact ? false : true} />

		<script>
			// log visitdata
			import * as visitData from "visitdata";
			visitData.setOption("url_parameters", {
				medium: ["utm_medium"],
				source: ["utm_source"],
				campaign: ["utm_campaign"],
				gclid: ["gclid"],
			});
			document.getElementById("marketing").value = JSON.stringify(visitData.get());
		</script>
	</body>
</html>
