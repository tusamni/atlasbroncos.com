---
import { siteConfig, Navigation } from "@/config";
import ButtonLink from "@/components/buttons/ButtonLink";
import Container from "@/components/layout/Container";
---

<header class="z-50 py-4 lg:py-6 sticky bg-stone-100 top-0 left-0 right-0">
	<div x-data="{ open: false }">
		<Container>
			<div class="relative flex md:items-center justify-between flex-col pt-0 md:flex-row">
				<div class="w-full md:w-auto flex flex-row items-center justify-between text-gray-900 text-sm">
					<a class="shrink-0 w-48 lg:w-56 relative z-10 text-black" :class="{'!text-black': open }" href="/" title="Atlas Broncos Homepage">
						<img src="https://cdn.cosmicjs.com/cc562a90-ea5a-11ef-a238-c1ad09f4b1ad-black-small.png" />
					</a>

					<div class="flex gap-6 md:hidden z-10">
						<ButtonLink href="/contact" classes="!hidden sm:!flex">Contact</ButtonLink>

						<button @click="open = !open" aria-label="Open navigation" title="Open navigation">
							<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-8">
								<path class="text-black" :class="{'hidden': open, 'inline-flex': !open }" stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
								<path :class="{'hidden': !open, 'inline-flex': open }" x-cloak stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12"></path>
							</svg>
						</button>
					</div>
				</div>

				<div class="hidden md:mt-0 md:pb-0 md:flex md:flex-row">
					<nav class="flex md:mx-auto md:space-x-4 lg:space-x-6 flex-col md:flex-row space-y-4 md:space-y-0">
						{
							Navigation.map((n) => (
								<a class:list={["text-lg md:text-sm lg:text-base transition-colors font-medium", "text-black hover:text-stone-800"]} href={n.href}>
									{n.title}
								</a>
							))
						}
					</nav>
				</div>

				<div class="hidden md:flex items-center gap-4">
					<div class="text-sm lg:text-base"><a href={`tel:${siteConfig.phone.base}`}>{siteConfig.phone.formatted}</a></div>
					<ButtonLink href="/contact">Contact</ButtonLink>
				</div>
			</div>
		</Container>

		<!-- mobile -->
		<div
			x-cloak
			x-show="open"
			x-transition:enter="transition ease-in-out duration-200"
			x-transition:enter-start="opacity-0 transform scale-y-0 -translate-y-1/2"
			x-transition:enter-end="opacity-100 transform scale-y-100 translate-y-0"
			x-transition:leave="transition ease-in-out duration-100"
			x-transition:leave-start="opacity-100 transform scale-y-100 translate-y-0"
			x-transition:leave-end="opacity-0 transform scale-y-0 -translate-y-1/2"
			class="fixed md:hidden inset-0 bg-black/50 h-screen"
		>
		</div>
		<div
			x-cloak
			x-show="open"
			@click.outside="open = false"
			x-transition:enter="transition ease-in-out duration-400"
			x-transition:enter-start="opacity-100 transform scale-y-0 -translate-y-1/2"
			x-transition:enter-end="opacity-100 transform scale-y-100 translate-y-0"
			x-transition:leave="transition ease-in-out duration-100"
			x-transition:leave-start="opacity-100 transform scale-y-100 translate-y-0"
			x-transition:leave-end="opacity-0 transform scale-y-0 -translate-y-1/2"
			class="md:hidden absolute inset-0 x-10"
		>
			<div class="bg-white pt-24 pb-8 shadow-2xl">
				<Container>
					<hr class="mb-10 text-stone-200" />

					<nav class="flex md:mx-auto md:space-x-6 flex-col md:flex-row space-y-4 md:space-y-0">
						{
							Navigation.map((n) => (
								<a class="text-base md:text-base lg:text-lg transition-colors text-gray-800" href={n.href}>
									{n.title}
								</a>
							))
						}
					</nav>

					<hr class="mt-10 text-stone-200" />

					<div class="flex justify-between items-center mt-10">
						<ButtonLink href="/contact">Let's Chat!</ButtonLink>

						<div class="text-lg font-medium tracking-tighter"><a href={`tel:${siteConfig.phone.base}`}>{siteConfig.phone.formatted}</a></div>
					</div>
				</Container>
			</div>
		</div>
	</div>
</header>
